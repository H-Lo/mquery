/* mQuery 1.0.x (nightly) (12/26/2021, 2:58:08 PM), vitmalina@gmail.com */
class Query{constructor(e,t){if(e instanceof HTMLElement)this.nodes=[e],this.length=1;else if(e instanceof Text)this.nodes=[e],this.length=1;else if(e instanceof Query)this.nodes=e.nodes,this.length=e.nodes.length;else{if("string"!=typeof e)throw new Error("Unknown selector");e=document.querySelectorAll(e);this.nodes=e,this.length=e.length}this._updateRefs()}_updateRefs(){this.nodes.forEach((e,t)=>{this[t]=e});let e=this.nodes.length;for(;this[e];)delete this[e],e++}_insert(s,r){let n=[];if("string"!=typeof r)throw new Error(`Incorrect argument for "${s}(html)". It expects one string argument.`);{let e=this.nodes[0].ownerDocument,t=e.createElement("template");this.nodes.forEach(e=>{t.innerHTML=r,"replaceWith"==s&&n.push(...t.content.childNodes),e[s](t.content)}),"replaceWith"==s&&(this.nodes=n,this.length=n.length,this._updateRefs())}return this}find(s){let r=[];return this.nodes.forEach((e,t)=>{e=e.querySelectorAll(s);0<e.length&&r.push(...e)}),this.nodes=r,this.length=r.length,this._updateRefs(),this}closest(s){let r=[];return this.nodes.forEach((e,t)=>{e=e.closest(s);e&&r.push(e)}),this.nodes=r,this.length=r.length,this._updateRefs(),this}parent(){let s=[];return this.nodes.forEach((e,t)=>{e=e.parentNode;e&&s.push(e)}),this.nodes=s,this.length=s.length,this._updateRefs(),this}each(s){return this.nodes.forEach((e,t)=>{s(e,t)}),this}append(e){return this._insert("append",e)}prepend(e){return this._insert("prepend",e)}after(e){return this._insert("after",e)}before(e){return this._insert("before",e)}remove(){return this.each(e=>{e.remove()}),this}empty(){return this.each(t=>{for(let e=t.childNodes.length-1;0<=e;e--){var s=t.childNodes[e];t.removeChild(s)}}),this}replace(e){return this._insert("replaceWith",e)}html(t){return 0==arguments.length?this.nodes[0]?this.nodes[0].innerHTML:void 0:(this.each(e=>{e.innerHTML=t}),this)}text(t){return 0==arguments.length?this.nodes[0]?this.nodes[0].textContent:void 0:(this.each(e=>{e.textContent=t}),this)}val(t){return 0==arguments.length?this.nodes[0]?this.nodes[0].value:void 0:(this.each(e=>{e.setAttribute("value",t)}),this)}css(e,t){let s=e;return 1==arguments.length&&"string"==typeof e?this.nodes[0]?this.nodes[0].style[e]:void 0:("object"!=typeof e&&(s={},s[e]=t),this.each((t,e)=>{Object.keys(s).forEach(e=>{t.style[e]=s[e]})}),this)}offset(){return 1!=this.length?null:this.nodes[0]?{top:this.nodes[0].offsetTop,left:this.nodes[0].offsetLeft,width:this.nodes[0].offsetWidth,height:this.nodes[0].offsetHeight}:void 0}addClass(e){return"string"==typeof e&&(e=e.split(" ")),this.each(t=>{e.forEach(e=>{""!==e&&t.classList.add(e)})}),this}removeClass(e){return"string"==typeof e&&(e=e.split(" ")),this.each(t=>{e.forEach(e=>{""!==e&&t.classList.remove(e)})}),this}toggleClass(e){return"string"==typeof e&&(e=e.split(" ")),this.each(t=>{e.forEach(e=>{""!==e&&t.classList.toggle(e)})}),this}hasClass(s){"string"==typeof s&&(s=s.split(" "));let r=!0;return this.each(e=>{let t=Array.from(e.classList);s.forEach(e=>{t.includes(e)||!0!==r||(r=!1)})}),r}on(e,t,s){let[r,n]=String(e).toLowerCase().split(".");return"function"==typeof t&&(s=t,t=void 0),this.each(e=>{e._mQuery=e._mQuery??{},e._mQuery.events=e._mQuery.events??[],e._mQuery.events.push({event:r,scope:n,callback:s,options:t}),e.addEventListener(r,s,t)}),this}off(e,r,n){let[h,i]=String(e).toLowerCase().split(".");return"function"==typeof r&&(n=r,r=void 0),this.each(t=>{if(t._mQuery&&Array.isArray(t._mQuery.events))for(let e=t._mQuery.events.length-1;0<=e;e--){var s=t._mQuery.events[e];null==i||""===i?s.event==h&&s.scope==i&&s.callback==n&&(t.removeEventListener(h,n,r),t._mQuery.events.splice(e,1)):s.event!=h&&""!==h||s.scope!=i&&"*"!==i||(t.removeEventListener(s.event,s.callback,s.options),t._mQuery.events.splice(e,1))}}),this}attr(t,s){return 1==arguments.length?this.nodes[0]?this.nodes[0].getAttribute():void 0:(this.each(e=>{e.setAttribute(t,s)}),this)}removeAttr(){return this.each(t=>{Array.from(arguments).forEach(e=>{t.removeAttribute(e)})}),this}prop(t,s){return 1==arguments.length?this.nodes[0]?this.nodes[0][t]:void 0:(this.each(e=>{e[t]=s}),this)}removeProp(){return this.each(t=>{Array.from(arguments).forEach(e=>{delete t[e]})}),this}}let query=function(e,t){return new Query(e,t)},$=query,q=query;export default query;export{$,q,query,Query};